<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
    <title>软件学院课程质量评价系统</title>

    <link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700" rel="stylesheet">
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="assets/css/plugins.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" type="text/css" href="assets/css/forms/theme-checkbox-radio.css">
    <link href="plugins/animate/animate.css" rel="stylesheet" type="text/css"/>
    <link href="assets/css/scrollspyNav.css" rel="stylesheet" type="text/css"/>
    <link href="assets/css/components/custom-modal.css" rel="stylesheet" type="text/css"/>
    <link href="plugins/sweetalerts/sweetalert2.min.css" rel="stylesheet" type="text/css"/>
    <link href="plugins/sweetalerts/sweetalert.css" rel="stylesheet" type="text/css"/>
    <link href="assets/css/components/custom-sweetalert.css" rel="stylesheet" type="text/css"/>
    <link href="assets/css/tables/table-basic.css" rel="stylesheet" type="text/css"/>

</head>
<body data-spy="scroll" data-target="#navSection" data-offset="140">

<div class="header-container fixed-top">
    <header class="header navbar navbar-expand-sm">

        <ul class="navbar-item theme-brand flex-row  text-center">
            <li class="nav-item theme-logo">
                <a href="/index">
                    <img src="assets/img/院徽.png" class="navbar-logo" alt="logo" style="width: 45px;">
                </a>
            </li>
            <li class="nav-item theme-text">
                <a href="/index" class="nav-link"> 软件学院课程质量评价系统 </a>
            </li>
        </ul>

        <ul class="navbar-item flex-row ml-md-auto">
            <li class="nav-item dropdown notification-dropdown">
                <a href="javascript:void(0);" class="nav-link dropdown-toggle" id="notificationDropdown"
                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="feather feather-bell">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                    </svg>
                    <span class="badge badge-success"></span>
                </a>
                <div class="dropdown-menu position-absolute" aria-labelledby="notificationDropdown">
                    <div class="notification-scroll">

                        <div class="dropdown-item">
                            <div class="media">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                     fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                     stroke-linejoin="round" class="feather feather-heart">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                                </svg>
                                <div class="media-body">
                                    <div class="notification-para"><span class="user-name">Shaun Park</span> likes your
                                        photo.
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </li>

            <li class="nav-item dropdown user-profile-dropdown">
                <a href="javascript:void(0);" class="nav-link dropdown-toggle user" id="userProfileDropdown"
                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    <img src="assets/img/profile-26.jpeg.jpg" alt="avatar">
                    <div th:text="${session.user.teacherName}"
                         style="float: right;margin-left: 10px;font-size: 15px !important;color: #e0e6ed !important;"></div>
                </a>
                <div class="dropdown-menu position-absolute" aria-labelledby="userProfileDropdown">
                    <div class="dropdown-item">
                        <a class="" href="" data-toggle="modal" data-target="#profileModal">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-user">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            个人信息</a>
                    </div>
                    <div class="dropdown-item">
                        <a class="" href="/">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-log-out">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                <polyline points="16 17 21 12 16 7"></polyline>
                                <line x1="21" y1="12" x2="9" y2="12"></line>
                            </svg>
                            退出登录</a>
                    </div>
                </div>
            </li>

        </ul>
    </header>
</div>
<!--  END NAVBAR  -->

<!--  BEGIN NAVBAR  -->
<div class="sub-header-container">
    <header class="header navbar navbar-expand-sm">
        <a href="javascript:void(0);" class="sidebarCollapse" data-placement="bottom">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 class="feather feather-menu">
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
        </a>

        <ul class="navbar-nav flex-row">
            <li>
                <div class="page-header">

                    <nav class="breadcrumb-one" aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item">其他设置</li>
                            <!--                            <li class="breadcrumb-item active" aria-current="page"><span>Basic</span></li>-->
                        </ol>
                    </nav>

                </div>
            </li>
        </ul>
    </header>
</div>
<!--  END NAVBAR  -->

<!--  BEGIN MAIN CONTAINER  -->
<div class="main-container" id="container">

    <div class="overlay"></div>
    <div class="search-overlay"></div>

    <!--  BEGIN SIDEBAR  -->
    <div class="sidebar-wrapper sidebar-theme">

        <nav id="sidebar">
            <div class="shadow-bottom"></div>

            <ul class="list-unstyled menu-categories" id="accordionExample">

                <li class="menu">
                    <a href="/index" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-home">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                <polyline points="9 22 9 12 15 12 15 22"></polyline>
                            </svg>
                            <span>首页</span>
                        </div>
                    </a>
                </li>

                <li class="menu">
                    <a href="/adminCourse" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-layers">
                                <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
                                <polyline points="2 17 12 22 22 17"></polyline>
                                <polyline points="2 12 12 17 22 12"></polyline>
                            </svg>
                            <span>课程管理</span>
                        </div>
                    </a>
                </li>

                <li class="menu">
                    <a href="/adminClass" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-airplay">
                                <path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path>
                                <polygon points="12 15 17 21 7 21 12 15"></polygon>
                            </svg>
                            <span>班级管理</span>
                        </div>
                    </a>
                </li>

                <li class="menu">
                    <a href="/adminTeacher" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-users">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                            <span>教师管理</span>
                        </div>
                    </a>
                </li>

                <li class="menu">
                    <a href="/adminStudent" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-box">
                                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                                <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                                <line x1="12" y1="22.08" x2="12" y2="12"></line>
                            </svg>
                            <span>学生管理</span>
                        </div>
                    </a>
                </li>

                <li class="menu">
                    <a href="/adminEvaluation" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-clipboard">
                                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                                <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                            </svg>
                            <span>评价管理</span>
                        </div>
                    </a>
                </li>

                <li class="menu">
                    <a href="/adminIndex" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-zap">
                                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
                            </svg>
                            <span>指标管理</span>
                        </div>
                    </a>
                </li>

                <li class="menu">
                    <a href="/adminOther" data-active="true" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-layers">
                                <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
                                <polyline points="2 17 12 22 22 17"></polyline>
                                <polyline points="2 12 12 17 22 12"></polyline>
                            </svg>
                            <span>其他设置</span>
                        </div>
                    </a>
                </li>

            </ul>

        </nav>

    </div>

    <div id="content" class="main-content">
        <div class="container">
            <div class="container">
                <div id="navSection" data-spy="affix" class="nav sidenav">
                    <div class="sidenav-content">
                        <a href="#rolePercentSet" class="active nav-link">角色权重设置</a>
                    </div>
                </div>
                <div class="row layout-top-spacing">
                    <div id="rolePercentSet" class="col-lg-12 col-12 layout-spacing">
                        <div class="statbox widget box box-shadow">
                            <div class="widget-header">
                                <div class="row">
                                    <div class="col-xl-12 col-md-12 col-sm-12 col-12">
                                        <h4>角色权重设置</h4>
                                    </div>
                                </div>
                            </div>
                            <div class="widget-content widget-content-area">
                                <div class="table-responsive">
                                    <table class="table table-bordered table-striped mb-4">
                                        <thead>
                                        <tr>
                                            <th>角色</th>
                                            <th>权重</th>
                                            <th class="text-center">操作</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr th:each="role:${roleList}">
                                            <td>
                                                <div class="d-flex">
                                                    <div class="usr-img-frame mr-2 rounded-circle"
                                                         th:if="${role.roleId eq 0}">
                                                        <img alt="avatar" class="img-fluid rounded-circle"
                                                             src="assets/img/girl-1.png">
                                                    </div>
                                                    <div class="usr-img-frame mr-2 rounded-circle"
                                                         th:if="${role.roleId eq 1}">
                                                        <img alt="avatar" class="img-fluid rounded-circle"
                                                             src="assets/img/girl-2.png">
                                                    </div>
                                                    <div class="usr-img-frame mr-2 rounded-circle"
                                                         th:if="${role.roleId eq 2}">
                                                        <img alt="avatar" class="img-fluid rounded-circle"
                                                             src="assets/img/boy.png">
                                                    </div>
                                                    <div class="usr-img-frame mr-2 rounded-circle"
                                                         th:if="${role.roleId ne 0 and role.roleId ne 1 and role.roleId ne 2}">
                                                        <img alt="avatar" class="img-fluid rounded-circle"
                                                             src="assets/img/boy-2.png">
                                                    </div>
                                                    <p class="align-self-center mb-0"
                                                       th:text="${role.roleName}"></p>
                                                </div>
                                            </td>
                                            <td th:text="${role.rolePercent}"></td>
                                            <td class=" text-center">
                                                <ul class="table-controls">
                                                    <li><a href="javascript:void(0);" data-toggle="modal"
                                                           th:attr="data-target='#RoleModal'+${role.roleId}"
                                                           data-placement="top" title="修改">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                             viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                             stroke-width="2" stroke-linecap="round"
                                                             stroke-linejoin="round" class="feather feather-edit-2">
                                                            <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
                                                        </svg>
                                                    </a></li>
<!--                                                    <li><a href="javascript:void(0);"-->
<!--                                                           th:onclick="'confirmMsg('+${role.roleId}+');'"-->
<!--                                                           data-toggle="tooltip" data-placement="top" title="删除">-->
<!--                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"-->
<!--                                                             viewBox="0 0 24 24" fill="none" stroke="currentColor"-->
<!--                                                             stroke-width="2" stroke-linecap="round"-->
<!--                                                             stroke-linejoin="round" class="feather feather-trash-2">-->
<!--                                                            <polyline points="3 6 5 6 21 6"></polyline>-->
<!--                                                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>-->
<!--                                                            <line x1="10" y1="11" x2="10" y2="17"></line>-->
<!--                                                            <line x1="14" y1="11" x2="14" y2="17"></line>-->
<!--                                                        </svg>-->
<!--                                                    </a></li>-->
                                                </ul>
                                            </td>
                                            <div class="modal fade" th:id="'RoleModal'+${role.roleId}" tabindex="-1"
                                                 role="dialog" aria-hidden="true">
                                                <div class="modal-dialog" role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title"
                                                                th:text="${role.roleName}+'设置：'"></h5>
                                                        </div>
                                                        <form action="/updateRoleById" method="post">
                                                            <input id="roleId" name="roleId" hidden
                                                                   th:value="${role.roleId}">
                                                            <div class="modal-body">
                                                                <div class="form-group row mb-4">
                                                                    <label class="col-sm-3 col-form-label"
                                                                           for="roleName">角色名</label>
                                                                    <div class="col-sm-8">
                                                                        <input type="text" class="form-control"
                                                                               id="roleName" name="roleName"
                                                                               placeholder="请输入角色名"
                                                                               th:value="${role.roleName}" required>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group row mb-4">
                                                                    <label class="col-sm-3 col-form-label"
                                                                           for="rolePercent">权重</label>
                                                                    <div class="col-sm-8">
                                                                        <input type="text" class="form-control"
                                                                               id="rolePercent" name="rolePercent"
                                                                               placeholder="请输入角色权重"
                                                                               th:value="${role.rolePercent}" required
                                                                               min="0"
                                                                               onkeyup="value=value.replace(/[^\d.]/g,'')">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button class="btn" data-dismiss="modal"><i
                                                                        class="flaticon-cancel-12"></i>取消
                                                                </button>
                                                                <button type="submit" class="btn btn-primary">保存
                                                                </button>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-wrapper">
            <div class="footer-section f-section-1">
                <p class="">Copyright © 2023-Design By <a href="https://www.baidu.com">qinjingjing</a>.
                </p>
            </div>
            <div class="footer-section f-section-2">
                <p class="">Coded with
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="feather feather-heart">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                </p>
            </div>
        </div>
    </div>
    <div class="modal fade profile-modal" id="profileModal" tabindex="-1" role="dialog"
         aria-labelledby="profileModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm" role="document">
            <div class="modal-content">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>

                <div class="modal-header justify-content-center" id="profileModalLabel">
                    <div class="modal-profile mt-4">
                        <img alt="avatar" src="assets/img/profile-26.jpeg.jpg" class="rounded-circle">
                    </div>
                </div>
                <div class="modal-body text-center">
                    <p class="mt-2" th:text="${session.user.teacherName}"></p>
                </div>
                <div class="modal-footer justify-content-center mb-4">
                    <button type="button" class="btn">修改</button>
                </div>
            </div>
        </div>
    </div>
</div>

<input id="message" th:value="${message}" hidden>
<input id="message1" th:value="${message1}" hidden>
<script src="assets/js/libs/jquery-3.1.1.min.js"></script>
<script src="assets/js/app.js"></script>
<script src="assets/js/custom.js"></script>
<script src="assets/js/scrollspyNav.js"></script>

<script src="bootstrap/js/popper.min.js"></script>
<script src="bootstrap/js/bootstrap.min.js"></script>

<script src="plugins/perfect-scrollbar/perfect-scrollbar.min.js"></script>
<script src="plugins/sweetalerts/sweetalert2.min.js"></script>
<script src="plugins/sweetalerts/custom-sweetalert.js"></script>
<script src="plugins/highlight/highlight.pack.js"></script>

<script>
    $(document).ready(function () {
        App.init();
    });
    var msg = $("#message").val();
    var msg1 = $("#message1").val();
    if (msg !== '') {
        swal(msg, msg1)
    }

    function confirmMsg(id) {
        swal({
            title: '确认删除?',
            type: 'warning',
            showCancelButton: true,
            confirmButtonText: '删除',
            cancelButtonText: '取消',
            padding: '2em'
        }).then(function (result) {
            if (result.value) {
                $.ajax({
                    url: "/deleteRoleById?id=" + id,
                    type: "post",
                    success: function () {
                        window.location.reload();
                    }
                });
            }
        })
    }
</script>
<script>
    $('#course-table').DataTable({
        dom: '<"row"<"col-md-12"<"row"<"col-md-6"B><"col-md-6"f> > ><"col-md-12"rt> <"col-md-12"<"row"<"col-md-5"i><"col-md-7"p>>> >',
        buttons: {
            buttons: [
                {text: '复制', extend: 'copy', className: 'btn'},
                {text: '导出为excel', extend: 'excel', className: 'btn'},
                {
                    text: '批量导入', className: 'btn',
                    action: function () {
                        $('#importModal').modal('show');
                    }
                }
            ]
        },
        "oLanguage": {
            "oPaginate": {
                "sPrevious": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>',
                "sNext": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>'
            },
            "sInfo": "Showing page _PAGE_ of _PAGES_",
            "sSearch": '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>',
            "sSearchPlaceholder": "Search...",
            "sProcessing": "正在加载数据，请稍后...",
            "sZeroRecords": "没有数据！",
            "sEmptyTable": "表中无数据存在！"
        },
        "stripeClasses": [],
        "pageLength": 5,
        "bAutoWidth": true
    });
    var secondUpload = new FileUploadWithPreview('mySecondImage');
</script>
<style>
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
    }

    input[type="number"] {
        -moz-appearance: textfield;
    }
</style>
</body>
</html>
